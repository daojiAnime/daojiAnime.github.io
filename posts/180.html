<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>FastAPI中文教程（一） | 盗计のBlog</title><meta name="author" content="Daoji,daoji.chang@gmail.com"><meta name="copyright" content="Daoji"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="FastAPI系列教程（一）教程资源ChristopherGS的英文教程 pyb4430&#x2F;full-stack-fastapi-postgresql: Full stack, modern web application generator. Using FastAPI, PostgreSQL as database, Docker, automatic HTTPS and more. (gith">
<meta property="og:type" content="article">
<meta property="og:title" content="FastAPI中文教程（一）">
<meta property="og:url" content="https://blog.daojinobb.eu.org/posts/180">
<meta property="og:site_name" content="盗计のBlog">
<meta property="og:description" content="FastAPI系列教程（一）教程资源ChristopherGS的英文教程 pyb4430&#x2F;full-stack-fastapi-postgresql: Full stack, modern web application generator. Using FastAPI, PostgreSQL as database, Docker, automatic HTTPS and more. (gith">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://42f2671d685f51e10fc6-b9fcecea3e50b3b59bdc28dead054ebc.ssl.cf5.rackcdn.com/illustrations/mail1_uab6.svg">
<meta property="article:published_time" content="2023-03-12T14:13:58.000Z">
<meta property="article:modified_time" content="2025-05-11T14:41:24.546Z">
<meta property="article:author" content="Daoji">
<meta property="article:tag" content="fastapi">
<meta property="article:tag" content="pydantic">
<meta property="article:tag" content="Python">
<meta property="article:tag" content="SQLAlchemy">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://42f2671d685f51e10fc6-b9fcecea3e50b3b59bdc28dead054ebc.ssl.cf5.rackcdn.com/illustrations/mail1_uab6.svg"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "FastAPI中文教程（一）",
  "url": "https://blog.daojinobb.eu.org/posts/180",
  "image": "https://42f2671d685f51e10fc6-b9fcecea3e50b3b59bdc28dead054ebc.ssl.cf5.rackcdn.com/illustrations/mail1_uab6.svg",
  "datePublished": "2023-03-12T14:13:58.000Z",
  "dateModified": "2025-05-11T14:41:24.546Z",
  "author": [
    {
      "@type": "Person",
      "name": "Daoji",
      "url": "https://blog.daojinobb.eu.org/"
    }
  ]
}</script><link rel="shortcut icon" href="/assets/favicon.ico"><link rel="canonical" href="https://blog.daojinobb.eu.org/posts/180"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//www.google-analytics.com" crossorigin=""/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script async="async" src="https://www.googletagmanager.com/gtag/js?id=GTM-TTSGZRZW"></script><script>window.dataLayer = window.dataLayer || []
function gtag(){dataLayer.push(arguments)}
gtag('js', new Date())
gtag('config', 'GTM-TTSGZRZW')
btf.addGlobalFn('pjaxComplete', () => {
  gtag('config', 'GTM-TTSGZRZW', {'page_path': window.location.pathname})
}, 'google_analytics')
</script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'FastAPI中文教程（一）',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/daojiAnime/cdn/css/blog/background.css"><meta name="generator" content="Hexo 5.4.2"><link rel="alternate" href="/atom.xml" title="盗计のBlog" type="application/atom+xml">
</head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><script>(()=>{
  const $loadingBox = document.getElementById('loading-box')
  const $body = document.body
  const preloader = {
    endLoading: () => {
      $body.style.overflow = ''
      $loadingBox.classList.add('loaded')
    },
    initLoading: () => {
      $body.style.overflow = 'hidden'
      $loadingBox.classList.remove('loaded')
    }
  }

  preloader.initLoading()
  window.addEventListener('load', preloader.endLoading)

  if (false) {
    btf.addGlobalFn('pjaxSend', preloader.initLoading, 'preloader_init')
    btf.addGlobalFn('pjaxComplete', preloader.endLoading, 'preloader_end')
  }
})()</script><div id="web_bg" style="background-color: rgb(255, 255, 255);"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="https://i.imgur.com/6DEulXU.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">69</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">30</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">8</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 类别</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> 列表</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/photos/"><i class="fa-fw fas fa-video"></i><span> 相册</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" target="_blank" rel="noopener external nofollow noreferrer" href="https://daojianime.github.io/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(https://42f2671d685f51e10fc6-b9fcecea3e50b3b59bdc28dead054ebc.ssl.cf5.rackcdn.com/illustrations/mail1_uab6.svg);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">盗计のBlog</span></a><a class="nav-page-title" href="/"><span class="site-name">FastAPI中文教程（一）</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 类别</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> 列表</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/photos/"><i class="fa-fw fas fa-video"></i><span> 相册</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" target="_blank" rel="noopener external nofollow noreferrer" href="https://daojianime.github.io/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">FastAPI中文教程（一）</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-03-12T14:13:58.000Z" title="发表于 2023-03-12 22:13:58">2023-03-12</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-05-11T14:41:24.546Z" title="更新于 2025-05-11 22:41:24">2025-05-11</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Python/">Python</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Python/fastapi/">fastapi</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><h1 id="FastAPI系列教程（一）"><a href="#FastAPI系列教程（一）" class="headerlink" title="FastAPI系列教程（一）"></a>FastAPI系列教程（一）</h1><h2 id="教程资源"><a href="#教程资源" class="headerlink" title="教程资源"></a>教程资源</h2><p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://christophergs.com/tutorials/ultimate-fastapi-tutorial-pt-1-hello-world/">ChristopherGS的英文教程</a></p>
<p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/pyb4430/full-stack-fastapi-postgresql">pyb4430/full-stack-fastapi-postgresql: Full stack, modern web application generator. Using FastAPI, PostgreSQL as database, Docker, automatic HTTPS and more. (github.com)</a></p>
<blockquote>
<p>上面的教程是根据FastAPI全栈生成的项目模板进行讲解的，对于有一定基础、熟悉容器化技术、熟悉部署细节的同学，可以快速的掌握FastAPI的用法，进行生产项目的开发。</p>
<p>[pyb4430/full-stack-fastapi-postgresql]仓库是fork的官方并进行积极维护的一个仓库，至该文章编写时间2023/3/12官方仓库对于旧模块失效出现多处bug仍未进行修复，推荐根据该全栈仓库学习全栈部署。</p>
</blockquote>
<blockquote>
<p>官方文档是最好的学习教程，FastAPI作者Tangolo比较忙，经常开坑，FastAPI的文档更新也不是很完善，部分章节内容没有进行更新（例如没有详细讲解依赖注入的异步写法，或者大多代码使用的都是非异步写法，SQLalchemy也没详细讲解异步写法），这部分虽然不是很重要，可以在模块官方和Python进阶教程里面学习到，但是对于初学者就不是很友好，无法系统的学习，会感觉到混乱。</p>
</blockquote>
<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>至文章编写时间，目前Python Web框架从性能上来讲，FastAPI基于Starlette开发，处于Python Web开发框架的最优选。据调查（根据目前数个Web<a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.techempower.com/benchmarks/#section=data-r21">框架基准测试排行网站</a>），从基准测试来说，FastAPI能达到同时13000并发请求时，同为Python框架的Django、Flask只能达到1k-2k。但是如果要同Golang的GoFrame、Gin、Echo、Iris等框架轻松实现10W+请求数相比，不足为论。如果用Golang，非常推荐GoFrame框架，文档齐全、社区活跃、性能优秀，并且是国人开源并积极维护。</p>
<p><img src="https://cdn.jsdelivr.net/gh/daojiAnime/cdn@master/img/20230312224716.png"><img src="https://cdn.jsdelivr.net/gh/daojiAnime/cdn@master/img/20230312224755.png"></p>
<blockquote>
<p>注：该调查虽然不严谨，但是有大概的参考价值，Web开发细节复杂，性能高低可根据开发者经验和技术进行优化，但是框架的基准测试则比较稳定。</p>
</blockquote>
<blockquote>
<p>Django-Ninja框架目前也备受关注，经过试用，确实是能够与普通的django程序比有极大的性能提升。但是考虑到仍然基于django框架开发，数据库对异步的支持不高，社区开源项目不丰富，称不上是一个优秀的选择。</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/daojiAnime/cdn@master/img/20230312225035.png"></p>
<p><img src="https://cdn.jsdelivr.net/gh/daojiAnime/cdn@master/img/20230312225257.png"></p>
<p>Swoole框架是由C语言编写的高性能请求框架，单论请求数来说，能够实现同比30w+的并发请求数。但是真正运营于web开发，需要编写路由功能、请求解析、数据校验、数据库交互等，如laravel-swoole也才16000并发请求数。</p>
<p>所以同学们讨论这个问题不能太片面，像本文重点FastAPI web开发框架是基于Starlette请求框架开发的，Startlette请求框架又是基于Uvicorn异步框架（Python高性能ASGI异步协议库）开发的，尽快其性能再强大，web开发中需要编写路由功能、请求解析、数据校验、数据库交互、安全验证等，最终也会和FastAPI框架差不多，甚至不如。而直接使用FastAPI框架，能够快速开发web网站，其自带Pydantic数据校验（Python数据校验和解析库，备受关注，非常推荐开发自己的项目时使用）等功能，有不少的开源项目和示例，<a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/tiangolo/fastapi/issues">github issue</a>容易查找你开发时遇见的常见问题。</p>
<h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><p>官方项目使用Poetry这个Python环境管理工具，所以官方项目里面是没有requirement.txt文件的，笔者初步尝试，感觉不错，后面讲解一下这个工具的简单使用。<a target="_blank" rel="noopener external nofollow noreferrer" href="https://fastapi.tiangolo.com/zh/">官方文档地址</a>有部分中文翻译章节，可以参考。</p>
<p>首先安装<code>FastAPI</code>模块：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install fastapi</span><br></pre></td></tr></table></figure>

<p>还需要安装ASGI服务器，笔者这里使用<a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.uvicorn.org/">Uvicorn</a>，官方文档中 <a target="_blank" rel="noopener external nofollow noreferrer" href="https://gitlab.com/pgjones/hypercorn">Hypercorn</a>也是支持的。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install uvicorn[standard] <span class="comment"># 最小安装</span></span><br></pre></td></tr></table></figure>

<p>这样就能编写最简单的FastAPI项目了。</p>
<h2 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> typing <span class="keyword">import</span> <span class="type">Union</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> fastapi <span class="keyword">import</span> FastAPI</span><br><span class="line"></span><br><span class="line">app = FastAPI()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@app.get(<span class="params"><span class="string">&quot;/&quot;</span></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">read_root</span>():</span><br><span class="line">    <span class="keyword">return</span> &#123;<span class="string">&quot;Hello&quot;</span>: <span class="string">&quot;World&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@app.get(<span class="params"><span class="string">&quot;/items/&#123;item_id&#125;&quot;</span></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">read_item</span>(<span class="params">item_id: <span class="built_in">int</span>, q: <span class="type">Union</span>[<span class="built_in">str</span>, <span class="literal">None</span>] = <span class="literal">None</span></span>):</span><br><span class="line">    <span class="keyword">return</span> &#123;<span class="string">&quot;item_id&quot;</span>: item_id, <span class="string">&quot;q&quot;</span>: q&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> uvicorn</span><br><span class="line">uvicorn.run(app)</span><br></pre></td></tr></table></figure>

<p>运行代码可以简单访问并获取响应了，<code>http://127.0.0.1:8000</code>可以获取返回内容。</p>
<h2 id="API文档"><a href="#API文档" class="headerlink" title="API文档"></a>API文档</h2><p>FastAPI自带API文档，<strong>通过路由映射自动生成OpenAPI文件</strong>（一种接口协议规格文件），并提供两种UI界面展示，分别是<strong>Swagger UI和ReDoc</strong>。对于后端API开发来说，能够更加便捷的进行接口调试（一旦尝试过这种体验就回不去了，类似DRF框架），对于前端来说，能够提供一份严格的API文档，方便同步开发（为了接口规范，最好还是开发之前设计好架构，商议确定接口路径和参数，开发中的API总是和结果不一样的）。</p>
<h2 id="特性"><a href="#特性" class="headerlink" title="特性"></a>特性</h2><h3 id="校验和解析"><a href="#校验和解析" class="headerlink" title="校验和解析"></a>校验和解析</h3><p>FastAPI最为突出的还是<strong>请求参数的校验和解析</strong>，在Python中数据类型是动态的、自动推断的，我们不否认这是一个很好的特性，但是在Web开发中我们需要协调多个模块，通常这些模块是由不同人员或组完成的，开发语言和规范很难统一，尤其在微服务领域里，这些甚至来自不同组织来完成。因为在后端中能够进行严格参数校验和快速解析，这是非常重要的功能（确保参数类型错误，参数不齐这些低级错误不是来源自身，怼人有自信）。这个功能在Springboot、GoFrame、Laravel中都存在，但是在Python传统web框架Django、Flask中却没有，django有名的扩展插件DRF也不过具有参数校验功能，但是却不具备高效的解析和清晰且便捷的文档。</p>
<p>Type Hints——<a target="_blank" rel="noopener external nofollow noreferrer" href="https://peps.python.org/pep-0484/">Python PEP 484提案</a>和Pydantic这个库的出现才改变这个局面，加上Pycharm对Type Hints的完美支持（其实对于生成器和旧模块还没很好支持）使得开发效率有进一步的提升。他强大之处只有体验过才能理解，只需要像静态语言一样对属性名添加类型注释，既可以对输入参数校验，对输出参数进行解析。</p>
<p>没有开发经验的同学可能没法很好理解，例如Json数据结构目前仍是前后端最流行数据结构体，但是Json数据中对浮点数不支持，因此传输过程Python需要将浮点数float转成字符str，再传到前端，从前端接收同样需要由str转float，如果前端传输数据不规范，传过来的整数非字符类型，而是数字类型，类型转换就会出错。又或者是前端传输参数缺少的情况。</p>
<p>虽然通过繁琐且复杂的校验和解析能够避免这些情况（为了推卸责任，不能不写😘），但是同Pydantic（Cython实现）实现的功能对比，还是不要重复造轮子了，有那时间同学们不想打游戏吗？或者学习？</p>
<h4 id="在IDE中"><a href="#在IDE中" class="headerlink" title="在IDE中"></a>在IDE中</h4><ul>
<li>自动补全</li>
<li>类型检查</li>
</ul>
<h4 id="数据校验"><a href="#数据校验" class="headerlink" title="数据校验"></a>数据校验</h4><ul>
<li>在校验失败时自动生成清晰的错误信息</li>
<li>对多层嵌套的 JSON 对象依然执行校验</li>
</ul>
<h4 id="转换-来自网络请求的输入数据为-Python-数据类型。包括以下数据"><a href="#转换-来自网络请求的输入数据为-Python-数据类型。包括以下数据" class="headerlink" title="转换 来自网络请求的输入数据为 Python 数据类型。包括以下数据"></a>转换 来自网络请求的输入数据为 Python 数据类型。包括以下数据</h4><ul>
<li>JSON</li>
<li>路径参数</li>
<li>查询参数</li>
<li>Cookies</li>
<li>请求头</li>
<li>表单</li>
<li>文件</li>
</ul>
<h4 id="转换-输出的数据：转换-Python-数据类型为供网络传输的-JSON-数据"><a href="#转换-输出的数据：转换-Python-数据类型为供网络传输的-JSON-数据" class="headerlink" title="转换 输出的数据：转换 Python 数据类型为供网络传输的 JSON 数据"></a>转换 输出的数据：转换 Python 数据类型为供网络传输的 JSON 数据</h4><ul>
<li>转换 Python 基础类型 （<code>str</code>、 <code>int</code>、 <code>float</code>、 <code>bool</code>、 <code>list</code> 等）</li>
<li><code>datetime</code> 对象</li>
<li><code>UUID</code> 对象</li>
<li>数据库模型</li>
<li>……以及更多其他类型</li>
</ul>
<h4 id="自动生成的交互式-API-文档，包括两种可选的用户界面"><a href="#自动生成的交互式-API-文档，包括两种可选的用户界面" class="headerlink" title="自动生成的交互式 API 文档，包括两种可选的用户界面"></a>自动生成的交互式 API 文档，包括两种可选的用户界面</h4><ul>
<li>Swagger UI</li>
<li>ReDoc</li>
</ul>
<h3 id="依赖注入"><a href="#依赖注入" class="headerlink" title="依赖注入"></a>依赖注入</h3><p>Python是动态语言，轻易修改运行时变量对象，即依赖注入。不同于静态语言预编译程序有严格检查，且编译和运行时处于不同内容，Python则能够轻松修改。FastAPI框架自身提供了依赖注入的方式实现数据库连接获取，身份认证，Session和Cookie解析等中间件功能。这里不推荐传统中间件实现方式的理由是，中间件会在每个请求时都执行，消耗内存高，对于不需要的请求增加多余代码运行，降低效率，而依赖注入可以在需要使用的请求上执行，提供很好的解耦，更加优雅。</p>
<p>依赖注入的实现原理和代码，笔者会在后面的文章中介绍，此处不做讲解。</p>
<h3 id="安全性及身份验证"><a href="#安全性及身份验证" class="headerlink" title="安全性及身份验证"></a>安全性及身份验证</h3><p>集成了安全性和身份认证。杜绝数据库或者数据模型的渗透风险。</p>
<p>OpenAPI 中定义的安全模式，包括：</p>
<ul>
<li>HTTP 基本认证。</li>
<li><strong>OAuth2</strong> (也使用 <strong>JWT tokens</strong>)。在 <a target="_blank" rel="noopener external nofollow noreferrer" href="https://fastapi.tiangolo.com/zh/tutorial/security/oauth2-jwt/">OAuth2 with JWT</a>查看教程。</li>
<li>API 密钥，在:<ul>
<li>请求头。</li>
<li>查询参数。</li>
<li>Cookies, 等等。</li>
</ul>
</li>
</ul>
<p>加上来自 Starlette（包括 <strong>session cookie</strong>）的所有安全特性。</p>
<p>所有的这些都是可复用的工具和组件，可以轻松与你的系统，数据仓库，关系型以及 NoSQL 数据库等等集成。</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://blog.daojinobb.eu.org">Daoji</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://blog.daojinobb.eu.org/posts/180">https://blog.daojinobb.eu.org/posts/180</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="external nofollow noreferrer" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="https://blog.daojinobb.eu.org" target="_blank">盗计のBlog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/fastapi/">fastapi</a><a class="post-meta__tags" href="/tags/pydantic/">pydantic</a><a class="post-meta__tags" href="/tags/Python/">Python</a><a class="post-meta__tags" href="/tags/SQLAlchemy/">SQLAlchemy</a></div><div class="post-share"><div class="social-share" data-image="https://42f2671d685f51e10fc6-b9fcecea3e50b3b59bdc28dead054ebc.ssl.cf5.rackcdn.com/illustrations/mail1_uab6.svg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/posts/56655" title="Python Django连接WebRTC"><img class="cover" src="https://42f2671d685f51e10fc6-b9fcecea3e50b3b59bdc28dead054ebc.ssl.cf5.rackcdn.com/illustrations/QA_engineers_dg5p.svg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">Python Django连接WebRTC</div></div><div class="info-2"><div class="info-item-1">Python使用WebRTC异步RTC库aiortc </div></div></div></a><a class="pagination-related" href="/posts/52412" title="操作系统题库（一）"><img class="cover" src="https://42f2671d685f51e10fc6-b9fcecea3e50b3b59bdc28dead054ebc.ssl.cf5.rackcdn.com/illustrations/financial_data_es63.svg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">操作系统题库（一）</div></div><div class="info-2"><div class="info-item-1">操作系统题库（一）1.Linux常用命令作答 1cd ls top free df du awk sed vi zip/unzip tar gzip cp mv rm grep cat echo export ssh  这些都是我比较常用的命令。 答案 常用命令  目录相关 find 命令 ls 命令 pwd 命令 cd 命令   mkdir 命令 df 命令 rm 命令 mv 命令 cp 命令 mount 命令 cat 命令 tail 命令 less 命令   通用命令 grep 命令 sed 命令 awk 命令 vim 命令 diff 命令 sort 命令 xargs 命令   压缩相关 tar 命令 gzip 命令 bzip2 命令 unzip 命令   系统命令 export 命令 kill 命令 passwd 命令 su 命令 yum 命令 rpm 命令 shutdown 命令 crontab 命令 service 命令 chmod 命令 chown 命令 uname 命令 whereis 命令 locate 命令 man 命令   网络相关 ifconfig...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/posts/56655" title="Logging用法"><img class="cover" src="https://42f2671d685f51e10fc6-b9fcecea3e50b3b59bdc28dead054ebc.ssl.cf5.rackcdn.com/illustrations/welcome_3gvl.svg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-03-03</div><div class="info-item-2">Logging用法</div></div><div class="info-2"><div class="info-item-1">Logging用法打印所有Logger对象123for name in logging.Logger.manager.loggerDict.keys():       logger = logging.getLogger(name)       print(&#x27;name = %s, logger = %s&#x27; % (name, logger))	  </div></div></div></a><a class="pagination-related" href="/posts/33210" title="个人免签方案"><img class="cover" src="https://42f2671d685f51e10fc6-b9fcecea3e50b3b59bdc28dead054ebc.ssl.cf5.rackcdn.com/illustrations/File_bundle_xl7g.svg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-01-16</div><div class="info-item-2">个人免签方案</div></div><div class="info-2"><div class="info-item-1">个人免签方案方案说明介绍个人免签国内主要是解决网银的微信+支付宝支付渠道的对接，这两种方案要进行免签的话，可以通过监听通知消息回写数据库达到转账记录的目的，通过+/-0.1 金额进行多笔订单同时转账场景下确保订单一致性。比较符合的就有 V 免签、码支付、彩虹交易等。其中只有 V 免签有良好的开源生态，因此选用 V 免签进行定制化。 方案调研手机监听Android 15 Supported vmq apk PC 监听未开源 PC 端 Linux 虚拟化itchat-uos 架构设计 Api: fastapi + python3.12 SQL DB: Postgres Cache DB: Redis Cron: apscheduler Python Lint: ruff + mypy  设计问题同时多个订单生成，如何区分不同订单支付的通过订单金额不同，以 0.1 步长形成一个梯度去生成订单，同时对 key (price+商户 ID) 使用一个超时异步锁，设置默认 1 分钟超时时间，以订单生成时间字段形成一个锁，每次查询 uid 下最后一个订单，时间超过 1...</div></div></div></a><a class="pagination-related" href="/posts/14490" title="通过shell脚本查看python版本并比较"><img class="cover" src="https://42f2671d685f51e10fc6-b9fcecea3e50b3b59bdc28dead054ebc.ssl.cf5.rackcdn.com/illustrations/Login_v483.svg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2020-05-13</div><div class="info-item-2">通过shell脚本查看python版本并比较</div></div><div class="info-2"><div class="info-item-1">1234567891011121314151617181920212223242526272829303132333435#!/bin/shcheckPython()&#123;    #推荐版本V2.6.5    V1=2    V2=6    V3=5    echo need python version is : $V1.$V2.$V3    #获取本机python版本号。这里2&gt;&amp;1是必须的，python -V这个是标准错误输出的，需要转换    U_V1=`python -V 2&gt;&amp;1|awk &#x27;&#123;print $2&#125;&#x27;|awk -F &#x27;.&#x27; &#x27;&#123;print $1&#125;&#x27;`    U_V2=`python -V 2&gt;&amp;1|awk &#x27;&#123;print $2&#125;&#x27;|awk -F &#x27;.&#x27; &#x27;&#123;print $2&#125;&#x27;`    U_V3=`python...</div></div></div></a><a class="pagination-related" href="/posts/2352" title="认真就能打动人：273篇干货资料汇总"><img class="cover" src="https://42f2671d685f51e10fc6-b9fcecea3e50b3b59bdc28dead054ebc.ssl.cf5.rackcdn.com/illustrations/noted_pc9f.svg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2020-05-02</div><div class="info-item-2">认真就能打动人：273篇干货资料汇总</div></div><div class="info-2"><div class="info-item-1">来自公众号Python与算法社区的汇总     </div></div></div></a><a class="pagination-related" href="/posts/34537" title="30个Python极简代码，10分钟get常用技巧！"><img class="cover" src="https://42f2671d685f51e10fc6-b9fcecea3e50b3b59bdc28dead054ebc.ssl.cf5.rackcdn.com/illustrations/goals_w8tw.svg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2020-04-28</div><div class="info-item-2">30个Python极简代码，10分钟get常用技巧！</div></div><div class="info-2"><div class="info-item-1">1. 重复元素判定以下方法可以检查给定列表是不是存在重复元素，它会使用 set() 函数来移除所有重复元素。 12345678def all_unique(lst):    return len(lst) == len(set(lst))x = [1,1,2,2,3,2,3,4,5,6]y = [1,2,3,4,5]all_unique(x) # Falseall_unique(y) # True  2. 字符元素组成判定检查两个字符串的组成元素是不是一样的。 1234567from collections import Counterdef anagram(first, second):    return Counter(first) == Counter(second)anagram(&quot;abcd3&quot;, &quot;3acdb&quot;) # True  3. 内存占用下面的代码块可以检查变量 variable 所占用的内存。 1234import sys variable = 30 print(sys.getsizeof(variable)) #...</div></div></div></a><a class="pagination-related" href="/posts/18713" title="Python中lambda的使用，与它的三个好基友介绍！"><img class="cover" src="https://42f2671d685f51e10fc6-b9fcecea3e50b3b59bdc28dead054ebc.ssl.cf5.rackcdn.com/illustrations/staying_in_i80u.svg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2020-04-28</div><div class="info-item-2">Python中lambda的使用，与它的三个好基友介绍！</div></div><div class="info-2"><div class="info-item-1">匿名函数lambda除了def语句，python还提供了一种生成函数对象的表达式形式。由于它与LISP语言中的一个工具类似，所以称为lambda。就像def一样，这个表达式创建了一个之后能够调用的函数，但是它返回一个函数而不是将这个函数赋值给一个变量。这些就是lambda叫做匿名函数的原因。实际上，他常常以一种行内进行函数定义的方式使用，或者用作推迟执行一些代码。lambda的一般形式是关键字lambda之后跟着一个或多个参数（与一个def头部内用括号括起来的参数列表类似），紧跟着是一个冒号，之后是表达式  lambda arg1，arg2,argn:expression using...</div></div></div></a></div></div><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="https://i.imgur.com/6DEulXU.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">Daoji</div><div class="author-info-description">探索AI与编程技术的博客，包含深度分析与实用工具解决方案，让学习更有效率。加入我们一起成长！</div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">69</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">30</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">8</div></a></div><a id="card-info-btn" target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons"><a class="social-icon" href="https://github.com/daojiAnime" rel="external nofollow noreferrer" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a><a class="social-icon" href="tencent://message/?uin=133397418" rel="external nofollow noreferrer" target="_blank" title="QQ"><i class="fab fa-qq" style="color: #12B7F5;"></i></a><a class="social-icon" href="/assets/img/weixin.jpg" target="_blank" title="微信"><i class="fab fa-weixin" style="color: #07C160;"></i></a><a class="social-icon" href="/atom.xml" target="_blank" title="RSS"><i class="fa-solid fa-rss" style="color: #FFA500;"></i></a><a class="social-icon" href="mailto:daoji.chang@gmail.com" rel="external nofollow noreferrer" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #4a7dbe;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#FastAPI%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B%EF%BC%88%E4%B8%80%EF%BC%89"><span class="toc-number">1.</span> <span class="toc-text">FastAPI系列教程（一）</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%99%E7%A8%8B%E8%B5%84%E6%BA%90"><span class="toc-number">1.1.</span> <span class="toc-text">教程资源</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%89%8D%E8%A8%80"><span class="toc-number">1.2.</span> <span class="toc-text">前言</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85"><span class="toc-number">1.3.</span> <span class="toc-text">安装</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B"><span class="toc-number">1.4.</span> <span class="toc-text">示例</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#API%E6%96%87%E6%A1%A3"><span class="toc-number">1.5.</span> <span class="toc-text">API文档</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%89%B9%E6%80%A7"><span class="toc-number">1.6.</span> <span class="toc-text">特性</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%A1%E9%AA%8C%E5%92%8C%E8%A7%A3%E6%9E%90"><span class="toc-number">1.6.1.</span> <span class="toc-text">校验和解析</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9C%A8IDE%E4%B8%AD"><span class="toc-number">1.6.1.1.</span> <span class="toc-text">在IDE中</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E6%A0%A1%E9%AA%8C"><span class="toc-number">1.6.1.2.</span> <span class="toc-text">数据校验</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BD%AC%E6%8D%A2-%E6%9D%A5%E8%87%AA%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82%E7%9A%84%E8%BE%93%E5%85%A5%E6%95%B0%E6%8D%AE%E4%B8%BA-Python-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E3%80%82%E5%8C%85%E6%8B%AC%E4%BB%A5%E4%B8%8B%E6%95%B0%E6%8D%AE"><span class="toc-number">1.6.1.3.</span> <span class="toc-text">转换 来自网络请求的输入数据为 Python 数据类型。包括以下数据</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BD%AC%E6%8D%A2-%E8%BE%93%E5%87%BA%E7%9A%84%E6%95%B0%E6%8D%AE%EF%BC%9A%E8%BD%AC%E6%8D%A2-Python-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%B8%BA%E4%BE%9B%E7%BD%91%E7%BB%9C%E4%BC%A0%E8%BE%93%E7%9A%84-JSON-%E6%95%B0%E6%8D%AE"><span class="toc-number">1.6.1.4.</span> <span class="toc-text">转换 输出的数据：转换 Python 数据类型为供网络传输的 JSON 数据</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%87%AA%E5%8A%A8%E7%94%9F%E6%88%90%E7%9A%84%E4%BA%A4%E4%BA%92%E5%BC%8F-API-%E6%96%87%E6%A1%A3%EF%BC%8C%E5%8C%85%E6%8B%AC%E4%B8%A4%E7%A7%8D%E5%8F%AF%E9%80%89%E7%9A%84%E7%94%A8%E6%88%B7%E7%95%8C%E9%9D%A2"><span class="toc-number">1.6.1.5.</span> <span class="toc-text">自动生成的交互式 API 文档，包括两种可选的用户界面</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5"><span class="toc-number">1.6.2.</span> <span class="toc-text">依赖注入</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E5%85%A8%E6%80%A7%E5%8F%8A%E8%BA%AB%E4%BB%BD%E9%AA%8C%E8%AF%81"><span class="toc-number">1.6.3.</span> <span class="toc-text">安全性及身份验证</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/posts/252" title="Agent多工具超长上下文处理方案"><img src="https://42f2671d685f51e10fc6-b9fcecea3e50b3b59bdc28dead054ebc.ssl.cf5.rackcdn.com/illustrations/community_8nwl.svg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Agent多工具超长上下文处理方案"/></a><div class="content"><a class="title" href="/posts/252" title="Agent多工具超长上下文处理方案">Agent多工具超长上下文处理方案</a><time datetime="2025-05-11T14:43:15.000Z" title="发表于 2025-05-11 22:43:15">2025-05-11</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/35873" title="beartype 运行时入参校验"><img src="https://42f2671d685f51e10fc6-b9fcecea3e50b3b59bdc28dead054ebc.ssl.cf5.rackcdn.com/illustrations/domain_names_rdql.svg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="beartype 运行时入参校验"/></a><div class="content"><a class="title" href="/posts/35873" title="beartype 运行时入参校验">beartype 运行时入参校验</a><time datetime="2025-03-25T23:08:07.000Z" title="发表于 2025-03-26 07:08:07">2025-03-26</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/25614" title="AI断片了吗？探秘大模型在超长对话中的理解能力"><img src="https://42f2671d685f51e10fc6-b9fcecea3e50b3b59bdc28dead054ebc.ssl.cf5.rackcdn.com/illustrations/girl_just_wanna_have_fun_9d5u.svg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="AI断片了吗？探秘大模型在超长对话中的理解能力"/></a><div class="content"><a class="title" href="/posts/25614" title="AI断片了吗？探秘大模型在超长对话中的理解能力">AI断片了吗？探秘大模型在超长对话中的理解能力</a><time datetime="2025-03-10T00:02:00.000Z" title="发表于 2025-03-10 08:02:00">2025-03-10</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/33210" title="个人免签方案"><img src="https://42f2671d685f51e10fc6-b9fcecea3e50b3b59bdc28dead054ebc.ssl.cf5.rackcdn.com/illustrations/File_bundle_xl7g.svg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="个人免签方案"/></a><div class="content"><a class="title" href="/posts/33210" title="个人免签方案">个人免签方案</a><time datetime="2025-01-16T02:33:24.000Z" title="发表于 2025-01-16 10:33:24">2025-01-16</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/60917" title="GPT学习分享"><img src="https://42f2671d685f51e10fc6-b9fcecea3e50b3b59bdc28dead054ebc.ssl.cf5.rackcdn.com/illustrations/night_calls_5jh7.svg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="GPT学习分享"/></a><div class="content"><a class="title" href="/posts/60917" title="GPT学习分享">GPT学习分享</a><time datetime="2024-03-07T03:14:02.000Z" title="发表于 2024-03-07 11:14:02">2024-03-07</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2019 - 2025 By Daoji</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener external nofollow noreferrer" href="https://hexo.io">Hexo 5.4.2</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.3.3</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="前往评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><div class="js-pjax"><script>(() => {
  const isShuoshuo = GLOBAL_CONFIG_SITE.pageType === 'shuoshuo'
  const option = null

  const getCount = () => {
    const countELement = document.getElementById('twikoo-count')
    if(!countELement) return
    twikoo.getCommentsCount({
      envId: 'https://daoji-twikoo.netlify.app/.netlify/functions/twikoo',
      region: '',
      urls: [window.location.pathname],
      includeReply: false
    }).then(res => {
      countELement.textContent = res[0].count
    }).catch(err => {
      console.error(err)
    })
  }

  const init = (el = document, path = location.pathname) => {
    twikoo.init({
      el: el.querySelector('#twikoo-wrap'),
      envId: 'https://daoji-twikoo.netlify.app/.netlify/functions/twikoo',
      region: '',
      onCommentLoaded: () => {
        btf.loadLightbox(document.querySelectorAll('#twikoo .tk-content img:not(.tk-owo-emotion)'))
      },
      ...option,
      path: isShuoshuo ? path : (option && option.path) || path
    })

    

    isShuoshuo && (window.shuoshuoComment.destroyTwikoo = () => {
      if (el.children.length) {
        el.innerHTML = ''
        el.classList.add('no-comment')
      }
    })
  }

  const loadTwikoo = (el, path) => {
    if (typeof twikoo === 'object') setTimeout(() => init(el, path), 0)
    else btf.getScript('https://cdn.jsdelivr.net/npm/twikoo/dist/twikoo.all.min.js').then(() => init(el, path))
  }

  if (isShuoshuo) {
    'Twikoo' === 'Twikoo'
      ? window.shuoshuoComment = { loadComment: loadTwikoo }
      : window.loadOtherComment = loadTwikoo
    return
  }

  if ('Twikoo' === 'Twikoo' || !false) {
    if (false) btf.loadComment(document.getElementById('twikoo-wrap'), loadTwikoo)
    else loadTwikoo()
  } else {
    window.loadOtherComment = loadTwikoo
  }
})()</script></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>